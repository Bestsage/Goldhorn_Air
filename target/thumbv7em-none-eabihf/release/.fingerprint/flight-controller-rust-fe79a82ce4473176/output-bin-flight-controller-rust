{"$message_type":"diagnostic","message":"method `read_who_am_i` is never used","code":{"code":"dead_code","explanation":null},"level":"warning","spans":[{"file_name":"src/drivers/icm42688.rs","byte_start":270,"byte_end":343,"line_start":10,"line_end":10,"column_start":1,"column_end":74,"is_primary":false,"text":[{"text":"impl<'d, T: Instance, Tx: TxDma<T>, Rx: RxDma<T>> Icm42688<'d, T, Tx, Rx> {","highlight_start":1,"highlight_end":74}],"label":"method in this implementation","suggested_replacement":null,"suggestion_applicability":null,"expansion":null},{"file_name":"src/drivers/icm42688.rs","byte_start":1567,"byte_end":1580,"line_start":52,"line_end":52,"column_start":18,"column_end":31,"is_primary":true,"text":[{"text":"    pub async fn read_who_am_i(&mut self) -> Result<u8, Error> {","highlight_start":18,"highlight_end":31}],"label":null,"suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"`#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: method `read_who_am_i` is never used\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0msrc/drivers/icm42688.rs:52:18\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m10\u001b[0m \u001b[1m\u001b[94m|\u001b[0m impl<'d, T: Instance, Tx: TxDma<T>, Rx: RxDma<T>> Icm42688<'d, T, Tx, Rx> {\n   \u001b[1m\u001b[94m|\u001b[0m \u001b[1m\u001b[94m-------------------------------------------------------------------------\u001b[0m \u001b[1m\u001b[94mmethod in this implementation\u001b[0m\n\u001b[1m\u001b[94m...\u001b[0m\n\u001b[1m\u001b[94m52\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     pub async fn read_who_am_i(&mut self) -> Result<u8, Error> {\n   \u001b[1m\u001b[94m|\u001b[0m                  \u001b[1m\u001b[33m^^^^^^^^^^^^^\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default\n\n"}
{"$message_type":"diagnostic","message":"creating a mutable reference to mutable static","code":{"code":"static_mut_refs","explanation":null},"level":"warning","spans":[{"file_name":"src/usb.rs","byte_start":1956,"byte_end":1982,"line_start":59,"line_end":59,"column_start":31,"column_end":57,"is_primary":true,"text":[{"text":"    let driver_buf = unsafe { &mut USB_RES.ep_out_buffer };","highlight_start":31,"highlight_end":57}],"label":"mutable reference to mutable static","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/static-mut-references.html>","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"mutable references to mutable statics are dangerous; it's undefined behavior if any other pointer to the static is used or if any other reference is created for the static while the mutable reference lives","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"`#[warn(static_mut_refs)]` (part of `#[warn(rust_2024_compatibility)]`) on by default","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"use `&raw mut` instead to create a raw pointer","code":null,"level":"help","spans":[{"file_name":"src/usb.rs","byte_start":1956,"byte_end":1961,"line_start":59,"line_end":59,"column_start":31,"column_end":36,"is_primary":true,"text":[{"text":"    let driver_buf = unsafe { &mut USB_RES.ep_out_buffer };","highlight_start":31,"highlight_end":36}],"label":null,"suggested_replacement":"&raw mut ","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: creating a mutable reference to mutable static\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0msrc/usb.rs:59:31\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m59\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     let driver_buf = unsafe { &mut USB_RES.ep_out_buffer };\n   \u001b[1m\u001b[94m|\u001b[0m                               \u001b[1m\u001b[33m^^^^^^^^^^^^^^^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[33mmutable reference to mutable static\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/static-mut-references.html>\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: mutable references to mutable statics are dangerous; it's undefined behavior if any other pointer to the static is used or if any other reference is created for the static while the mutable reference lives\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: `#[warn(static_mut_refs)]` (part of `#[warn(rust_2024_compatibility)]`) on by default\n\u001b[1m\u001b[96mhelp\u001b[0m: use `&raw mut` instead to create a raw pointer\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m59\u001b[0m \u001b[1m\u001b[94m| \u001b[0m    let driver_buf = unsafe { &\u001b[92mraw \u001b[0mmut USB_RES.ep_out_buffer };\n   \u001b[1m\u001b[94m|\u001b[0m                                \u001b[92m+++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"creating a mutable reference to mutable static","code":{"code":"static_mut_refs","explanation":null},"level":"warning","spans":[{"file_name":"src/usb.rs","byte_start":2377,"byte_end":2389,"line_start":70,"line_end":70,"column_start":19,"column_end":31,"is_primary":true,"text":[{"text":"        let res = &mut USB_RES;","highlight_start":19,"highlight_end":31}],"label":"mutable reference to mutable static","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/static-mut-references.html>","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"mutable references to mutable statics are dangerous; it's undefined behavior if any other pointer to the static is used or if any other reference is created for the static while the mutable reference lives","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"use `&raw mut` instead to create a raw pointer","code":null,"level":"help","spans":[{"file_name":"src/usb.rs","byte_start":2377,"byte_end":2382,"line_start":70,"line_end":70,"column_start":19,"column_end":24,"is_primary":true,"text":[{"text":"        let res = &mut USB_RES;","highlight_start":19,"highlight_end":24}],"label":null,"suggested_replacement":"&raw mut ","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: creating a mutable reference to mutable static\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0msrc/usb.rs:70:19\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m70\u001b[0m \u001b[1m\u001b[94m|\u001b[0m         let res = &mut USB_RES;\n   \u001b[1m\u001b[94m|\u001b[0m                   \u001b[1m\u001b[33m^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[33mmutable reference to mutable static\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/static-mut-references.html>\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: mutable references to mutable statics are dangerous; it's undefined behavior if any other pointer to the static is used or if any other reference is created for the static while the mutable reference lives\n\u001b[1m\u001b[96mhelp\u001b[0m: use `&raw mut` instead to create a raw pointer\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m70\u001b[0m \u001b[1m\u001b[94m| \u001b[0m        let res = &\u001b[92mraw \u001b[0mmut USB_RES;\n   \u001b[1m\u001b[94m|\u001b[0m                    \u001b[92m+++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"creating a mutable reference to mutable static","code":{"code":"static_mut_refs","explanation":null},"level":"warning","spans":[{"file_name":"src/usb.rs","byte_start":2632,"byte_end":2644,"line_start":81,"line_end":81,"column_start":24,"column_end":36,"is_primary":true,"text":[{"text":"    let res = unsafe { &mut USB_RES };","highlight_start":24,"highlight_end":36}],"label":"mutable reference to mutable static","suggested_replacement":null,"suggestion_applicability":null,"expansion":null}],"children":[{"message":"for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/static-mut-references.html>","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"mutable references to mutable statics are dangerous; it's undefined behavior if any other pointer to the static is used or if any other reference is created for the static while the mutable reference lives","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"use `&raw mut` instead to create a raw pointer","code":null,"level":"help","spans":[{"file_name":"src/usb.rs","byte_start":2632,"byte_end":2637,"line_start":81,"line_end":81,"column_start":24,"column_end":29,"is_primary":true,"text":[{"text":"    let res = unsafe { &mut USB_RES };","highlight_start":24,"highlight_end":29}],"label":null,"suggested_replacement":"&raw mut ","suggestion_applicability":"MaybeIncorrect","expansion":null}],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[33mwarning\u001b[0m\u001b[1m: creating a mutable reference to mutable static\u001b[0m\n  \u001b[1m\u001b[94m--> \u001b[0msrc/usb.rs:81:24\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m81\u001b[0m \u001b[1m\u001b[94m|\u001b[0m     let res = unsafe { &mut USB_RES };\n   \u001b[1m\u001b[94m|\u001b[0m                        \u001b[1m\u001b[33m^^^^^^^^^^^^\u001b[0m \u001b[1m\u001b[33mmutable reference to mutable static\u001b[0m\n   \u001b[1m\u001b[94m|\u001b[0m\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: for more information, see <https://doc.rust-lang.org/edition-guide/rust-2024/static-mut-references.html>\n   \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: mutable references to mutable statics are dangerous; it's undefined behavior if any other pointer to the static is used or if any other reference is created for the static while the mutable reference lives\n\u001b[1m\u001b[96mhelp\u001b[0m: use `&raw mut` instead to create a raw pointer\n   \u001b[1m\u001b[94m|\u001b[0m\n\u001b[1m\u001b[94m81\u001b[0m \u001b[1m\u001b[94m| \u001b[0m    let res = unsafe { &\u001b[92mraw \u001b[0mmut USB_RES };\n   \u001b[1m\u001b[94m|\u001b[0m                         \u001b[92m+++\u001b[0m\n\n"}
{"$message_type":"diagnostic","message":"linking with `rust-lld` failed: exit status: 1","code":null,"level":"error","spans":[],"children":[{"message":" \"rust-lld\" \"-flavor\" \"gnu\" \"/tmp/rustcerKsM2/symbols.o\" \"<7 object files omitted>\" \"--as-needed\" \"-Bstatic\" \"/home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/deps/{libheapless-069eb307ab527c66,libpanic_probe-02c22d615476bb3f,libdefmt_rtt-95ec0e869dbc0f3e,libdefmt-270df272e258c56a,libdefmt-552ae9cf277f47cd,libembassy_executor-0bf4e1c91491e277,libembassy_usb-a15e6f4bc9dfd837,libusbd_hid-8bcc64b1497739c9,libusb_device-6be102354a38b311,libportable_atomic-625592bd64639a2a,libssmarshal-6188e80c01932bea,libencode_unicode-2316a7e31cf89b84,libserde-2469616824f9605d,libserde_core-acd274a7b2f8be2f,libembassy_net_driver_channel-0d54a978d06b859b,libembassy_sync-9d57a83e0eca060a,libheapless-48c9b43541345200,libhash32-04dc31bdf72e910c,libembassy_net_driver-7c43d17b25870e65,libembassy_stm32-7f71ade26c1d9dd3,libembedded_hal_nb-4c350f7b4e97b720,libcfg_if-777f8fd4fda5de42,libembassy_usb_driver-0692e8a78af8107f,libsdio_host-f309bb93e09ebb55,librand_core-480681da2c6d9604,libembassy_embedded_hal-ad840e3982abd39d,libembassy_time-d3805572abf0bc27,libembassy_time_queue_driver-7d47817c670ece8f,libembedded_hal_async-407ae529d239784b,libembedded_hal-5f58bdb59886c7ad,libembassy_futures-93c4bca20dff17ba,libembedded_storage_async-77b4637907291e4a,libembedded_storage-66a6e770ba4f543c,libfutures-d6f118068a6422a7,libbxcan-47a03ab69d8d5480,libbitflags-620d1e5848b5a3c6,libembassy_time_driver-db47813fbff7e581,libstm32_metapac-6b747305bc50b037,libcortex_m_rt-7d0c4a143574a8fd,libembassy_sync-eaea6c1b035b0467,libfutures_util-d44e91646d805f0c,libpin_project_lite-63dcf5f22962e95e,libfutures_sink-4beaf33f841dc1ac,libfutures_task-f86f40ee5543c107,libpin_utils-6a0fedcb31a0adbb,libfutures_core-b82aae1043a7b045,libembedded_io_async-aa119a2684f0b5d2,libembedded_io-52dd91804dbd9dc0,libheapless-d2792c045d09d251,libstable_deref_trait-8378e7c3d976910c,libhash32-dc772a2fae2259db,libbyteorder-d3b7c0b2e6baf803,libembassy_hal_internal-449b3fc4f3a7163e,libcortex_m-5ecbf4be66a390aa,libembedded_hal-f5b17ddbda70bec7,libvoid-94eed87769185464,libnb-a51d54188bae5f27,libnb-e67b84337d284de3,libcritical_section-0055f856088b4092,libvolatile_register-07da61594eef5996,libvcell-45dc07a7dbbb0528,libbare_metal-06c087e42baa18db,libnum_traits-010d1eb4a306bc86}.rlib\" \"<sysroot>/lib/rustlib/thumbv7em-none-eabihf/lib/{libcore-*,libcompiler_builtins-*}.rlib\" \"-L\" \"/tmp/rustcerKsM2/raw-dylibs\" \"-Bdynamic\" \"--eh-frame-hdr\" \"-z\" \"noexecstack\" \"-L\" \"/home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/build/cortex-m-d8f7917c9a315159/out\" \"-L\" \"/home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/build/cortex-m-rt-ca953f300b177dba/out\" \"-L\" \"/home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/build/defmt-448c985b31a8e561/out\" \"-L\" \"/home/bestsage/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/stm32-metapac-15.0.0/src/chips/stm32f405rg\" \"-L\" \"/home/bestsage/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/stm32-metapac-15.0.0/src/chips/stm32f405rg/memory_x/\" \"-o\" \"/home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/deps/flight_controller_rust-fe79a82ce4473176\" \"--gc-sections\" \"-O1\" \"--strip-debug\" \"-Tlink.x\" \"-Tdefmt.x\" \"--nmagic\"","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"some arguments are omitted. use `--verbose` to show all linker arguments","code":null,"level":"note","spans":[],"children":[],"rendered":null},{"message":"rust-lld: error: undefined symbol: _embassy_time_schedule_wake\n>>> referenced by embassy_time_queue_driver.77bd95e0db409386-cgu.0\n>>>               embassy_time_queue_driver-7d47817c670ece8f.embassy_time_queue_driver.77bd95e0db409386-cgu.0.rcgu.o:(embassy_time_queue_driver::schedule_wake::h23c63f896cc65f94) in archive /home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/deps/libembassy_time_queue_driver-7d47817c670ece8f.rlib\n","code":null,"level":"note","spans":[],"children":[],"rendered":null}],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: linking with `rust-lld` failed: exit status: 1\u001b[0m\n  \u001b[1m\u001b[94m|\u001b[0m\n  \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m:  \"rust-lld\" \"-flavor\" \"gnu\" \"/tmp/rustcerKsM2/symbols.o\" \"<7 object files omitted>\" \"--as-needed\" \"-Bstatic\" \"/home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/deps/{libheapless-069eb307ab527c66,libpanic_probe-02c22d615476bb3f,libdefmt_rtt-95ec0e869dbc0f3e,libdefmt-270df272e258c56a,libdefmt-552ae9cf277f47cd,libembassy_executor-0bf4e1c91491e277,libembassy_usb-a15e6f4bc9dfd837,libusbd_hid-8bcc64b1497739c9,libusb_device-6be102354a38b311,libportable_atomic-625592bd64639a2a,libssmarshal-6188e80c01932bea,libencode_unicode-2316a7e31cf89b84,libserde-2469616824f9605d,libserde_core-acd274a7b2f8be2f,libembassy_net_driver_channel-0d54a978d06b859b,libembassy_sync-9d57a83e0eca060a,libheapless-48c9b43541345200,libhash32-04dc31bdf72e910c,libembassy_net_driver-7c43d17b25870e65,libembassy_stm32-7f71ade26c1d9dd3,libembedded_hal_nb-4c350f7b4e97b720,libcfg_if-777f8fd4fda5de42,libembassy_usb_driver-0692e8a78af8107f,libsdio_host-f309bb93e09ebb55,librand_core-480681da2c6d9604,libembassy_embedded_hal-ad840e3982abd39d,libembassy_time-d3805572abf0bc27,libembassy_time_queue_driver-7d47817c670ece8f,libembedded_hal_async-407ae529d239784b,libembedded_hal-5f58bdb59886c7ad,libembassy_futures-93c4bca20dff17ba,libembedded_storage_async-77b4637907291e4a,libembedded_storage-66a6e770ba4f543c,libfutures-d6f118068a6422a7,libbxcan-47a03ab69d8d5480,libbitflags-620d1e5848b5a3c6,libembassy_time_driver-db47813fbff7e581,libstm32_metapac-6b747305bc50b037,libcortex_m_rt-7d0c4a143574a8fd,libembassy_sync-eaea6c1b035b0467,libfutures_util-d44e91646d805f0c,libpin_project_lite-63dcf5f22962e95e,libfutures_sink-4beaf33f841dc1ac,libfutures_task-f86f40ee5543c107,libpin_utils-6a0fedcb31a0adbb,libfutures_core-b82aae1043a7b045,libembedded_io_async-aa119a2684f0b5d2,libembedded_io-52dd91804dbd9dc0,libheapless-d2792c045d09d251,libstable_deref_trait-8378e7c3d976910c,libhash32-dc772a2fae2259db,libbyteorder-d3b7c0b2e6baf803,libembassy_hal_internal-449b3fc4f3a7163e,libcortex_m-5ecbf4be66a390aa,libembedded_hal-f5b17ddbda70bec7,libvoid-94eed87769185464,libnb-a51d54188bae5f27,libnb-e67b84337d284de3,libcritical_section-0055f856088b4092,libvolatile_register-07da61594eef5996,libvcell-45dc07a7dbbb0528,libbare_metal-06c087e42baa18db,libnum_traits-010d1eb4a306bc86}.rlib\" \"<sysroot>/lib/rustlib/thumbv7em-none-eabihf/lib/{libcore-*,libcompiler_builtins-*}.rlib\" \"-L\" \"/tmp/rustcerKsM2/raw-dylibs\" \"-Bdynamic\" \"--eh-frame-hdr\" \"-z\" \"noexecstack\" \"-L\" \"/home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/build/cortex-m-d8f7917c9a315159/out\" \"-L\" \"/home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/build/cortex-m-rt-ca953f300b177dba/out\" \"-L\" \"/home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/build/defmt-448c985b31a8e561/out\" \"-L\" \"/home/bestsage/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/stm32-metapac-15.0.0/src/chips/stm32f405rg\" \"-L\" \"/home/bestsage/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/stm32-metapac-15.0.0/src/chips/stm32f405rg/memory_x/\" \"-o\" \"/home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/deps/flight_controller_rust-fe79a82ce4473176\" \"--gc-sections\" \"-O1\" \"--strip-debug\" \"-Tlink.x\" \"-Tdefmt.x\" \"--nmagic\"\n  \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: some arguments are omitted. use `--verbose` to show all linker arguments\n  \u001b[1m\u001b[94m= \u001b[0m\u001b[1mnote\u001b[0m: rust-lld: error: undefined symbol: _embassy_time_schedule_wake\n          >>> referenced by embassy_time_queue_driver.77bd95e0db409386-cgu.0\n          >>>               embassy_time_queue_driver-7d47817c670ece8f.embassy_time_queue_driver.77bd95e0db409386-cgu.0.rcgu.o:(embassy_time_queue_driver::schedule_wake::h23c63f896cc65f94) in archive /home/bestsage/Documents/Rocket_mcu/target/thumbv7em-none-eabihf/release/deps/libembassy_time_queue_driver-7d47817c670ece8f.rlib\n          \n\n"}
{"$message_type":"diagnostic","message":"aborting due to 1 previous error; 4 warnings emitted","code":null,"level":"error","spans":[],"children":[],"rendered":"\u001b[1m\u001b[91merror\u001b[0m\u001b[1m: aborting due to 1 previous error; 4 warnings emitted\u001b[0m\n\n"}
